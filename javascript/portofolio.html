<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>portofolio</title>
    <script src="asset/jquery-3.4.1.min.js"></script>
    <script src="asset/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="asset/bootstrap/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>
    <script src="asset/Draggable.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">
    body {
        background: #000;
        overflow: hidden;
    }

    .d-dimar {
        /*padding: 2px;*/
        /*max-width: 40px;*/
        width: max-content;
        /*height: 10px;*/
        text-align: center;
        padding: 5px 10px;
        background: #17a2b8;
        color: white;
        border-radius: 5px;

    }

    .filter {
        filter: brightness(0.3) saturate(0);
        position: absolute;
        top: 0px;
        pointer-events: none;
        z-index: -1;
        transform: translate(-50px,0px);
        left: -50px;
        /*animation: animate 1s infinite linear;*/
    }


    #about {
        top: 130px;
        position: relative;
        /*margin-left: 100px;*/
        /*width: 100%;*/
        /*max-width: 800px;*/
        min-width: 300px;
        z-index: 3;
        margin: 20px;
        border-radius: 5px;
        /*margin: 0px 50px;*/
    }

    .ball,
    .square {
        position: absolute;
        border-radius: 100%;
        opacity: 0.3;
        z-index: -1;
        /*filter: blur(1px);*/
    }

    .square {
        position: absolute;
        border-radius: 0%;
    }

    .arrow-up {
        width: 0;
        height: 0;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        position: absolute;
        border-bottom: 5px solid black;
    }

    .row {
        z-index: 30 !important;
    }

    #judulDetail {
        background: #dc3545;
    }

    #array {
        cursor: pointer;
    }

	.portrait {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1;
    width: 100%;
    height: 100%;
    filter: brightness(0.3) saturate(1);
    pointer-events: none;
}

.portrait__inner {
    position: absolute;
    top: 0;
    left: 50%;
    height: 105%;
    -webkit-transform: translateX(-50%);
    -ms-transform: translateX(-50%);
    transform: translateX(-50%)
}

.portrait__canvas {
    display: block;
    margin: 5% 0 -5%
}
@media only screen and (max-width: 1000px) {
  .portrait {
    z-index: -1;
  }
  body{
  	overflow: overlay;
  }
  #about{
  	top: 20px;
  	margin:10px;
  }
}
 #detailx{
 	overflow-wrap: break-word;
 }


	.blink{
		animation: blink 0.5s linear infinite alternate;
	}

	@keyframes blink{
		0%{color:black;}
		100%{color:white;}
	}


    </style>
</head>

<body>
    <!-- <nav class="navbar navbar-dark bg-dark">
  
  <a class="navbar-brand" href="#">
  	<span class="d-dimar">D</span>	  
    Dimar Hanung Ptakos
  </a>
</nav>
 --><div class="overlay js-overlay"></div>
   
          <div class="portrait js-portrait">
        <div class="portrait__inner"> <canvas class="portrait__canvas js-portraitCanvas" data-src="assets/images/dhp3.png"></canvas> </div>
    </div>
        <!-- <img src="img/dhp.png" alt=""> -->
    
    <div class="row m-0 p-0">
        <div class="col card-header border text-white" id="about">
            <div class="ctn-name">
                <div class="name h4 bin-glitch">Dimar Hanung Prakoso.</div>
                <div class="job h5 font-weight-normal">
                    skills[0] : "Javascript"
                </div>
                <div id="array" class="text-success"><span class="blink">></span>
                	<span class="bin-glitch">Lihat Detail</span>
                </div>
                <div class="about-me mt-5">Saya sudah memegang computer sejak saya 2 SD, mulai dari windows 2000, windows xp, hingga windows 10
                </div>
            </div>
        </div>
        <div class="col card-header border text-white" id="about">
            <div class="ctn-name">
                <div class="name h4">
                    details.
                </div>
                <div class="job h5 font-weight-normal" id="judulDetail">error no details selected
                </div>
                <div id="detailx"></div>
                <div class="about-me mt-5">
                    
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    $('#array').click(function(event) {
        /* Act on the event */
        let skill = ["javascript", "jQuery", "PHP", "CSS", "HTML", "Laravel"];
        document.getElementById('detailx').innerHTML = '<span class="bin-glitch">'+JSON.stringify(skill)+'</span><br/><span class="blink">></span>';
        judulDetail.innerHTML = 'skills:';
        $('#judulDetail').css('background', 'transparent');;
    });;





    // batas

     
    var global = function() {
            var e = {
                    overlay: document.querySelector(".js-overlay"),
                    site: document.querySelector(".js-site"),
                    container: document.querySelector(".js-container"),
                    portrait: document.querySelector(".js-portrait"),
                    portraitCanvas: document.querySelector(".js-portraitCanvas"),
                
                },
                t = {
               
                    windowWidth: window.innerWidth,
                    windowHeight: window.innerHeight,
                    windowResizeTimer: null,
                    windowResizeTimeout: 100
                };
            
            return {
                elements: e,
                options: t,
                updateWindow: function() {
                    t.windowWidth = window.innerWidth, t.windowHeight = window.innerHeight
                },
                lerp: function(e, t, n) {
                    return (1 - n) * e + n * t
                },
                randomRange: function(e, t) {
                    return Math.floor(Math.random() * (t - e + 1)) + e
                }
                
            }
        }(),
        intro = function() {
            var t = {
                overlayDelay: 2e3,
                animDelay: 125,
                animIndex: 0
            };
            return {
                init: function() {
                    global.elements.overlay.style.opacity = 0;
                    t.animIndex++;
                }
            }
        }(),
  
        glitchLinks = function() {
            var o = {
                timeMin: 100,
                timeMax: 500,
                delayMin: 1e3,
                delayMax: 5e3
            };

           
            return {
                
            }
        }(),
        glitchCanvas = function() {
            var i = {
                ctx: global.elements.portraitCanvas.getContext("2d"),
                image: [],
                
                imageData: null,
                imageSrc: ["assets/images/dhp3.png","assets/images/dhp4.png"],
                imageLoaded: !1,
                sliceX: 0,
                sliceY: 0,
                sliceHeight: 0,
                minGlitches: 5,
                maxGlitches: 10,
                delayGlitchMin: 50,
                delayGlitchMax: 100,
                delayRestartMin: 1e3,
                delayRestartMax: 5e3
            };

            function e() {
                i.imageLoaded && (i.ctx.clearRect(0, 0, global.elements.portraitCanvas.width, global.elements.portraitCanvas.height),i.ctx.drawImage(i.image[0], 50, 0, i.image[0].width-100, global.elements.portraitCanvas.height), setTimeout(function() {
                    requestAnimationFrame(function() {
                        ! function t(n) {
                            n < global.randomRange(i.minGlitches, i.maxGlitches) ? setTimeout(function() {
                                n++;
                                for (var e = 0; e < global.randomRange(i.minGlitches, i.maxGlitches); e++) o();
                                requestAnimationFrame(function() {
                                    t(n)
                                })
                            }, global.randomRange(i.delayGlitchMin, i.delayGlitchMax)) : e()
                        }(0)
                    })
                }, global.randomRange(i.delayRestartMin, i.delayRestartMax)))
            }

            function t() {
                global.elements.portraitCanvas.width = 1366, global.elements.portraitCanvas.height = global.options.windowHeight, requestAnimationFrame(e)
            }

            function o() {
                i.sliceX = Math.round(Math.random() * (global.elements.portraitCanvas.height / 30) - 4),
                i.sliceY = Math.round(Math.random() * global.elements.portraitCanvas.height),
                i.sliceHeight = Math.round(Math.random() * (global.elements.portraitCanvas.height / 10) + 1),
                i.imageData = i.ctx.getImageData(0, i.sliceY, global.elements.portraitCanvas.width, i.sliceHeight),
                i.ctx.clearRect(0, i.sliceY, global.elements.portraitCanvas.width, i.sliceHeight),
                i.ctx.putImageData(i.imageData, i.sliceX, i.sliceY)
            }
            return {
                init: function() {
                	console.log('a');
                    i.image[0] = new Image, i.image[0].src = i.imageSrc[0], i.image[0].addEventListener("load", function() {
                        i.imageLoaded = !0, t()
                    })
                    i.image[1] = new Image, i.image[1].src = i.imageSrc[1], i.image[1].addEventListener("load", function() {
                        i.imageLoaded = !0, t()
                    })

                },
                redraw: t
            }
        }();
    window.addEventListener("resize", function() {
        null !== global.options.windowResizeTimer && clearTimeout(global.options.windowResizeTimer), global.options.windowResizeTimer = setTimeout(function() {
            global.updateWindow()
        }, global.options.windowResizeTimeout)
    }, !1), window.addEventListener("load", function() {
        intro.init()
    }, !1), glitchCanvas.init();





    // batas

    $(document).mousemove(function(e) {
        parallaxIt(e, ".portrait__canvas", -60);
        parallaxIt(e, ".row", -10);

    });

    let parallaxIt = (e, target, movement) => {
        var $this = $(target);
        var relX = e.pageX - $this.offset().left;
        var relY = e.pageY - $this.offset().top;

        TweenMax.to(target, 0.3, {
            x: (relX - $this.width() / 2) / $this.width() * movement,
            y: (relY - $this.height() / 2) / $this.height() * movement
        });
    }



    // $(document).mousemove(function(e) {
    // 	/* Act on the event */
    // 	let x = (e.clientX/30)-20;
    // 	let y = (e.clientY/30);
    // 	$('.row').css('transform', 'translate('+x+'px,'+y+'px)');

    // });;

 class Text {
        constructor(clas, umur) {
            this.clas = clas;
            this.pure=[];
            this.umur = umur;
            this.chr = 'ABCDEFG1234567890'.split('');
            this.cn = true;

        }

        mulai() {
            this.simpanText();
            this.ulang(0)

        }
        simpanText()
        {
         this.pure[0]=this.clas.innerHTML;
         this.textSplitx=this.clas.innerHTML.split('');

        }

        gantiText(n,cn) {
            if (n < this.clas.innerText.length) {
                //n++;
                let clas = this.clas;
                let run  = (n,cn) => this.gantiText(n,cn);
                let chr  = this.chr;
                let pure = this.pure[0];
                 let textSplit  = this.textSplitx;
                setTimeout(function() {
                    //console.log(pure)
                   

                    
                  // console.log('cn:'+cn);
                  // console.log('n:'+n);  
                    if (cn==true) {
                       textSplit[n]   = "<span style='color:"+"hsla("+Math.floor(Math.random() * 360)+",100%,50%,1)"+"'>" + chr[Math.floor(Math.random() * chr.length)] + "</span>";
                    }else{
                        let xpure=pure.split('')
                         //console.log(n);
                        textSplit[n] = xpure[n];
                    }
                   // console.log(textSplit)
                    clas.innerHTML = textSplit.join('');
                    n++;
                    run(n,cn);

                }, 50);
            }
        }

        ulang(x) {
            if (true) {
            let run = (cn)=> this.gantiText(0,cn);
            let runR= ()=> this.ulang(x);
            setTimeout(function() {
                //console.log(x);
                x++;

                 let cnx=true;
                if (x % 2 == 0) {
                    cnx = true;
                } else {
                    cnx = false;
                    
                }


                if (x%6==0) {
                  setTimeout(function() {
                  	 run(cnx);
                runR(x);
                  }, 3000);
                }else{
                	run(cnx);
                runR(x);
                }

               
                //console.log(cn)
               

            }, Math.floor(Math.random() * 1000));
        }
        }

        static jenisUsia(thnLahir) {
            if (thnLahir < 2000) {
                return 'tua';
            } else {
                return 'muda';
            }
        }
    }

    let dataMulai = [];
    for (var i = 0; i < document.getElementsByClassName('bin-glitch').length; i++) {
        let clas = document.getElementsByClassName('bin-glitch')[i];
        dataMulai[i] = new Text(clas, 17);

       dataMulai[i].mulai();
    }

    </script>
</body>

</html>