<!DOCTYPE html>
<html>
<head>
	<title>Random Rotasi</title>
	<style type="text/css">
		
		.g,.a{
			width: 300px;
			background: steelblue;
			margin: 50px;
			animation: anim 2s alternate ease-in-out;
			
		}
		.a{
			background: green;
			transition: all ease-in-out 2s;
		}
	</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


</head>
<body>

<center>
<div class="g">Ini Tes 1</div>
<div class="g">Ini Tes 1</div>
<div class="g">Ini Tes 1</div>
<div class="g">Ini Tes 1</div>
<div class="g">Ini Tes 1</div>
<div class="g">Ini Tes 1</div>

<div class="a">ini class a</div>
<div class="a">ini class a</div>
<div class="a">ini class a</div>
<div class="a">ini class a</div>
</center>

<script type="text/javascript">
	


var get_element=document.getElementsByClassName('g');
$('body').prepend('<style type="text/css">@keyframes anim{0%{transform: scale(0);}	100%{transform: scale(1);}}</style>');
$('.g').hide();

start(0);

function start(counter){
  if(counter < get_element.length){
    setTimeout(function(){
      counter++;
      console.log('x='+counter);
    	get_element[counter].style.display='block';
      start(counter);

    }, 100);
  }
}




$('body').prepend('a');

function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive
}

var n=0;
var _const_e='a';
random_putar('g');
random_putar(_const_e);
setTimeout(function() {random_putar(_const_e)}, 1000);

otomatis();
function otomatis(){
if (n==0) {n=1;}else{n=0;}
random_putar(_const_e);
 
}
function random_putar(elemen){
var get_element=document.getElementsByClassName(elemen);
	for (var i = 0; i < get_element.length; i++) {

		
		console.log(i);
		if (i%2==n) {
		var random=getRandomInt(2,5);
		//get_element[i].innerHTML=random;
		get_element[i].style.transform="rotate("+random+"deg)";
	}else{
		var random=getRandomInt(-2,-5);
		//get_element[i].innerHTML=random;
		get_element[i].style.transform="rotate("+random+"deg)";
	}
	}


}

	var el=document.querySelector('.a');
el.addEventListener('transitionend', function() {
 Â console.log ('transitionend fired'); 
 otomatis();
});

</script>

</body>
</html>